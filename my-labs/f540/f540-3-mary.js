// RVAR[Ω]	Rmedido[Ω]	delta r	VB 	ΔVB [V]	VC [V]	ΔVC [V]	IB[mA]	?IB[mA]	IC[mA]	?IC[mA]

const { EnvBuilder } = require('labs');
const _ = require('lodash');

let b = new EnvBuilder();

b.variableObj({ name: 'rm', latexName: 'R_{medido}', unit: '\\Omega' });
b.variableObj({ name: 'vb', latexName: 'V_B', unit: 'V' });
b.variableObj({ name: 'vc', latexName: 'V_C', unit: 'V' });
b.variableObj({ name: 'ib', latexName: 'I_B', unit: 'A' });
b.variableObj({ name: 'ic', latexName: 'I_C', unit: 'A' });

let env = b.build();

let headers = 'rm vb vc ib ic';
var mult = ['', '', '', 'm', 'm'];
let data = '50000	49800	498	0.141	0.001	4.180	0.001	0.0282	0.0003	4.18	0.04\n52000	51900	520	0.140	0.001	4.040	0.001	0.0270	0.0003	4.04	0.04\n54000	53900	539	0.148	0.001	3.900	0.001	0.0275	0.0003	3.90	0.04\n56000	55500	555	0.144	0.001	3.780	0.001	0.0259	0.0003	3.78	0.04\n58000	57990	580	0.147	0.001	3.660	0.001	0.0253	0.0003	3.66	0.04\n60000	59800	598	0.149	0.001	3.530	0.001	0.0250	0.0002	3.53	0.04\n62000	61700	617	0.141	0.001	3.450	0.001	0.0228	0.0002	3.45	0.04\n64000	53700	537	0.123	0.001	3.320	0.001	0.0228	0.0002	3.32	0.03\n66000	65900	659	0.146	0.001	3.260	0.001	0.0221	0.0002	3.26	0.03\n68000	67500	675	0.145	0.001	3.170	0.001	0.0215	0.0002	3.17	0.03\n70000	68700	687	0.144	0.001	3.060	0.001	0.0210	0.0002	3.06	0.03\n72000	71900	719	0.146	0.001	3.000	0.001	0.0203	0.0002	3.00	0.03\n74000	73700	737	0.144	0.001	2.920	0.001	0.0195	0.0002	2.92	0.03\n76000	75800	758	0.148	0.001	2.860	0.001	0.0195	0.0002	2.86	0.03\n78000	77700	777	0.153	0.001	2.810	0.001	0.0197	0.0002	2.81	0.03\n80000	79800	798	0.147	0.001	2.720	0.001	0.0184	0.0002	2.72	0.03\n82000	81500	815	0.149	0.001	2.670	0.001	0.0183	0.0002	2.67	0.03\n84000	83500	835	0.147	0.001	2.600	0.001	0.0176	0.0002	2.60	0.03\n86000	85900	859	0.150	0.001	2.560	0.001	0.0175	0.0002	2.56	0.03\n88000	87600	876	0.152	0.001	2.510	0.001	0.0173	0.0002	2.51	0.03\n90000	89200	892	0.146	0.001	2.440	0.001	0.0164	0.0002	2.44	0.03\n92000	91500	915	0.148	0.001	2.400	0.001	0.0162	0.0002	2.40	0.03\n94000	93800	938	0.149	0.001	2.350	0.001	0.0159	0.0002	2.35	0.03\n96000	95300	953	0.149	0.001	2.310	0.001	0.0156	0.0002	2.31	0.03\n98000	97900	979	0.159	0.001	2.270	0.001	0.0162	0.0002	2.27	0.02\n100000	99800	998	0.150	0.001	2.210	0.001	0.0150	0.0002	2.21	0.02';

let datum = _.unzip(data.split('\n').map(l => l.split('\t')));

let firstCol = datum.shift();
console.log(firstCol.join('\n'));

let names = headers.split(' ');

names.forEach((header, i) => env.add(header, datum[2*i].map((el, j) => [el, datum[2*i+1][j]]), mult[i]));
let ttt = env.fullLatexTable(names, 'MY TABLE', 'mytable');

console.log(ttt);